---
import type { GetStaticPaths } from 'astro'
import Layout from '../../layouts/Layout.astro'
import projects_es from '../../data/projects_es.json'
import convertTitleToURL from '../../components/utils/convert_title_to_url'

const { title } = Astro.params
console.log(title)

export const getStaticPaths = (() => {
  return projects_es.map(project => {
    return {
      params: {
        title: convertTitleToURL(project.title)
      }
    }
  })
}) satisfies GetStaticPaths

const project = projects_es.find(
  project => convertTitleToURL(project.title) === title
)

console.log(project)
---

<Layout title={project.title}>
  <main class='project__page'>
    <div><img src={project.images[0].src} alt={project.images[0].alt} /></div>
    <aside>
      <h1>{project.title}</h1>
      <p>{project.description}</p>
    </aside>
  </main>
</Layout>

<style>
  .project__page {
    width: 100%;
    height: 100vh;
    display: flex;
    flex-direction: row;
    align-items: center;
    justify-content: space-between;
  }
</style>
